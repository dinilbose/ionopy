# ionopy analysis module

Analysis module can be used to read and analyse the TEC files generated by ionopy process module

## Reading TEC

For analysis open ipython in terminal

```
python3.6 -m IPython
```

import ionopy analysis module

```
import ionopy.analysis as analysis
```

Read TEC files. Files should be stored in the data repository. sdate,edate can be used to specify the dates we can also use sdoy, edoy along with the year.

```
pots_tec=analysis.read_tec(sdate='2014-01-01',edate='2014-01-31',station='pots')
#with doy of year
pots_tec=analysis.read_tec(sdoy=1,edoy=31,year=2014,station='pots')
```

To read all the TEC files of station at a strech.It contains all the six months data.

```
pots_tec=analysis.read_tec(sdoy=1,edoy=31,year=2014,station='pots',all=True)
```

To find out name of all the files assosiated with station and year.

```
from ionopy.process import filename
names=filename.load_files(station='pots',filetype='tec',sat='gps',year=2014)
```

Cleaning the TEC files with nan values

```
pots_tec=pots_tec.dropna(subset=['Stec']) 
```
## Analysing TEC files

All TEC files are panda dataframes. All panda operations are possible. But TEC files does not have multiorder index so some operations are not possible (upcoming update will have something to convert to hierachial index).

To extract a single satellite file

```
pots_single=analysis.extract_sv(data=pots_tec,sv='G01') 
#or by using panda query
pots_single=pots_tec.query('sv=="G02"') 
```
To extract a single date
```
pots_single_day=pots_single.loc['2015-01-01']
#selecting different day time
pots_single_day=pots_single.loc['2015-01-01 00:12:30':'2015-01-01 01:12:30']
```

Add vertical Tec to the current data file

```
pots_tec=analysis.add_vtec(data=pots_tec,IPP=350000)
```

To find daily average. Change period parameter to get the average

```
average=analysis.average_daily(data=pots_tec,period='120T')
```

## Ploting

To plot TEC files first intialize in ipython terminal

```
%matplotlib
```
```
average=analysis.average_daily(data=pots_tec.loc['2015-01-01'],period='120T') 

#plot Vtec
average.Vtec.plot()

#plot Stec
average.Stec.plot()

#plot Elevation
average.Elevation.plot()

```

